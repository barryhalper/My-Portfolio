export class Utils{static fadeIn(n,t){if(n)if(n.style.opacity=0,n.style.filter="alpha(opacity=0)",n.style.display="inline-block",n.style.visibility="visible",t)var i=0,r=setInterval(function(){i+=50/t;i>=1&&(clearInterval(r),i=1);n.style.opacity=i;n.style.filter="alpha(opacity="+i*100+")"},50);else n.style.opacity=1,n.style.filter="alpha(opacity=1)"}static fadeOut(n,t){if(n)if(t)var i=1,r=setInterval(function(){i-=50/t;i<=0&&(clearInterval(r),i=0,n.style.display="none",n.style.visibility="hidden");n.style.opacity=i;n.style.filter="alpha(opacity="+i*100+")"},50);else n.style.opacity=0,n.style.filter="alpha(opacity=0)",n.style.display="none",n.style.visibility="hidden"}static getHost(){let n=window.location.host;return`${window.location.protocol}//${n.replace(":80","")}`}static getSitePath(){const n=Utils.getHost();return window.location.href.replace(n,"").replace("#","")}static showModal(n){$("#Modal").on("shown.bs.modal",function(){});$(function(){$("#Modal").modal("show")});"title"in n&&$(".modal-header h5").html(n.title);"html"in n&&$(".modal-body").html(n.html);"wide"in n&&$(".modal-content").addClass("modal-wide");"showFooter"in n&&($(".modal-footer").style.display="block");$("#Modal").on("hiden.bs.modal",function(){$(".modal-header h5").html("");$(".modal-body").html("")})}}import{Utils}from"./utils.js";import{Testimonial}from"./testimonial.js";import{Project}from"./project.js";class n{constructor(){if(this.bindFooterAboutMe(),this.setActiveMenuItem(),document.getElementById("testimonial"))const n=new Testimonial(Utils);if(document.getElementById("project"))const n=new Project(Utils)}setActiveMenuItem(){const t=Utils.getSitePath(),i=Array.from(document.querySelectorAll(".nav a")),n=i.find(n=>n.getAttribute("href")==t);n&&n.classList.add("active")}bindFooterAboutMe(){let n=document.getElementById("footer-show-more");n.addEventListener("click",t=>{t.preventDefault();let r=n.querySelector("i"),i=document.getElementById("about-me"),u=n.querySelector("span");i.style.display==="inline-block"?(Utils.fadeOut(i,1500),i.style.display=="",r.setAttribute("class","fad fa-info-circle"),u.innerHTML="more"):(Utils.fadeIn(i,1500),r.setAttribute("class","fad fa-times-square"),u.innerHTML="");window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"})})}}document.addEventListener("DOMContentLoaded",function(){let t=new n});export class Project{constructor(n){this.bindCarouselToModal();this.bindVideoToModal();this.Utils=n}bindVideoToModal(){document.getElementById("project-body").querySelectorAll("a.video").forEach(n=>{n.addEventListener("click",n=>{n.preventDefault();const t=n.target.getAttribute("data-src"),r=n.target.getAttribute("data-title"),i=`<video controls autoplay><source src="/video/${t}" type="video/mp4"/></video>`;Utils.showModal({html:i});this.bindStopVideoOnModalClose()})})}bindCarouselToModal(){document.getElementById("project-body").querySelectorAll("a.gallery").forEach(n=>{n.addEventListener("click",n=>{n.preventDefault();const t=n.target.getAttribute("data-id"),u=n.target.getAttribute("data-title");document.getElementById(`carousel-${t}`).querySelectorAll(".carousel-inner img").forEach(n=>{n.setAttribute("src",`/image/projects${n.getAttribute("data-src")}`)});Utils.showModal({title:"",html:""});let r=document.getElementById(`carousel-${t}`).parentNode.cloneNode(!0);const i=`carousel-${t}-modal`;r.setAttribute("id",i);document.querySelector("#Modal .modal-body").appendChild(r);$(i).carousel();$(i).bind("slid",function(){})})})}bindStopVideoOnModalClose(){$("#Modal .close").on("click",function(){const n=document.querySelector("video");n.pause();n.currentTime=0})}}export class Testimonial{constructor(n){this.Utils=n;this.page=document.getElementById("testimonial");this.pullQuouteArray=Array.from(this.page.querySelectorAll(".pullquote"));console.log(this.pullQuouteArray);this.Utils.fadeIn(this.pullQuouteArray[0],2500);this.links=document.querySelectorAll(".testimonial-more a");this.addListener();Array.from(this.links)[0].classList.add("active")}addListener(){const n=this;this.links.forEach(n=>{n.addEventListener("click",t=>{t.preventDefault(),this.links.forEach(n=>n.classList.remove("active")),n.classList.add("active"),$(".pullquote").fadeOut(1500).promise().done(function(){$(`#testimonial-${n.getAttribute("data-id")}`).fadeIn(1500)})})})}}